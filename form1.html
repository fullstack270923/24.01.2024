<!DOCTYPE html>
<html lang="en">

<head>
    <title>Form into JSON</title>
</head>

<body style="margin-left: 20px;margin-top: 20px;">

    <label>Name: <input type="text" id="nameInput"></label><br><br />
    <label>ID: <input type="number" id="idInput"></label><br><br />
    <label>Submit-date: <input type="date" id="dateInput" value="2024-01-24"></label><br><br />
    <label>your email: <input type="email" id="emailInput"></label><br><br />

    <label>Gender:</label><br>
    <label><input type="radio" name="gender" value="Male"> Male</label><br>
    <label><input type="radio" name="gender" value="Female"> Female</label><br>
    <label><input type="radio" name="gender" value="Non-Binary"> Non-Binary</label><br><br />

    <label>Car Type:</label>
    <select id="selectInput">
        <option value="Sedan">Sedan</option>
        <option value="SUV">SUV</option>
        <option value="Hatchback">Hatchback</option>
        <option value="Convertible">Convertible</option>
        <option value="Coupe">Coupe</option>
    </select><br><br />

    <label>Vegetarian: <input type="checkbox" id="vegetarianInput"></label><br><br />

    <button type="Add" onclick="collectData()" id="add_btn">Add</button>
    </form>
    <br />
    <div id="result" />
    <script>
        const arr = []

        function collectData(e) {
            const data = {
                name: '',
                id: 0,
                sub_date: null,
                email: '',
                gender: '',
                carType: '',
                vegetarian: ''
            } // { }

            
            try {

                data.name = document.getElementById('nameInput').value

                if (data.name.length < 5) {
                    throw Error('name too short')
                }

                data.id = document.getElementById('idInput').value
                data.sub_date = document.getElementById('dateInput').value
                data.email = document.getElementById('emailInput').value
                data.gender = document.querySelector('input[name="gender"]:checked') ?
                    document.querySelector('input[name="gender"]:checked').value : ''
                data.carType = document.getElementById('selectInput').value
                data.vegetarian = document.getElementById('vegetarianInput').checked

                arr.push(data)

                document.getElementById('result').innerHTML = JSON.stringify(arr) + "<br />"
            }
            catch (e) {
                console.error(e)
                alert('Name too short. must be 5 characters')
            }
        }

        // add a field called age - input type number, to the json
        // add a field called hobby - input type text, to the json
        // add a button which removes the last document. hint: pop
        //             also print the arr after pop
    </script>
</body>

</html>